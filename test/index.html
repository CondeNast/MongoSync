<html>
  <head>
    <title>Mocha</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="https://rawgithub.com/visionmedia/mocha/8e7f3d5566afba351ec79c1499ebbd78d152dd15/mocha.css" />
    <script src="https://rawgithub.com/visionmedia/mocha/8e7f3d5566afba351ec79c1499ebbd78d152dd15/mocha.js"></script>
    <script src="https://rawgithub.com/chaijs/chai/1.7.2/chai.js"></script>
    <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://rawgithub.com/jashkenas/underscore/1.5.1/underscore.js"></script>
    <script src="https://rawgithub.com/jashkenas/backbone/1.0.0/backbone.js"></script>
    <script src="../mongosync.js"></script>
  </head>

  <body>
    <div id="mocha"></div>
    <script>mocha.setup('bdd')</script>
    <script>
        describe('smoke test for browser', function(){
          it('Should have a sync method that errors without a URL', function(){
            var Model = SharedModel();
            var mymodel = new Model();
            mymodel.set('foo', 'bar');
            var url_failed = false;

            try{
              mymodel.save();
            } catch(e){
              if(e.message.match(/url/)){
                url_failed = true;
              }
            }

            chai.expect(url_failed).to.equal(true);
          });
        });

        mocha.run();
    </script>
  </body>
</html>
